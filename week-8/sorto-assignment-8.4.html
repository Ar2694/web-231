<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Assignment 8.4</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- you will need to the href to point to your root directories css file -->
    <link rel="stylesheet" href="../site.css" />

    <style type="text/css">
      #employee tbody tr:hover {
        cursor: pointer;
        background-color: #ffff99;
      }
    </style>
  </head>
  <body>
    <div id="emps"></div>

    <script type="text/javascript">
      //Employee constructor
      function Employee(id, firstName, lastName, title) {
        this.id = id;
        this.firstName = firstName;
        this.lastName = lastName;
        this.title = title;
      }

      //Array of employee objects
      var employees = [
        new Employee(1, "Thomas", "Edison", "Software Engineer"),
        new Employee(2, "Benjamin", "Franklin", "Programmer"),
        new Employee(3, "Nikola", "Tesla", "Project Manager"),
        new Employee(4, "Charles", "Babbage", "Product Manager"),
        new Employee(5, "Alexander", "Bell", "Business Analyst"),
      ];

      //Output an employee by id.
      function getEmployee(id) {
        var filteredEmployee = [];
        filteredEmployee = employees.filter(function (value) {
          if (value.id === id) {
            return true;
          }
        });

        alert(
          "ID: " +
            filteredEmployee[0].id +
            "\nFirst name: " +
            filteredEmployee[0].firstName +
            "\nLast name: " +
            filteredEmployee[0].lastName +
            "\nTitle: " +
            filteredEmployee[0].title
        );
      }

      getEmployee(3);

      //Create a table of employees
      var output =
        "<table>" +
        "<thead>" +
        "<tr>" +
        "<td>ID</td>" +
        "<td>First Name</td>" +
        "<td>Last Name</td>" +
        "<td>Title</td>" +
        " </tr>" +
        "</thead>" +
        "<tbody>";
      //Output result
      employees.forEach(function (value) {
        output +=
          "<tr><td>" +
          value.id +
          "</td><td>" +
          value.firstName +
          "</td><td>" +
          value.lastName +
          "</td><td>" +
          value.title +
          "</td></tr>";
      });
      output += "</tbody></table>";
      //Append data to table.

      document.getElementById("emps").innerHTML = output;
      // jQuery onClick event
      // Don't remove this, just add your code to the body of the event (curly braces)
      $(function () {
        $("table tr").click(function () {
          var employeeId = parseInt($(this).find("td:first").html());

          getEmployee(employeeId);
        });
      });
    </script>
  </body>
</html>

<!---
**Create a JavaScript constructor employee object with an id, firstName, lastName, and title properties.

**Create and populate an array of five (5) employee objects.

**Create a getEmployee() function that accepts an id argument, iterates over the employee's array, and outputs the matched employee record using a JavaScript alert box.

**Create a string variable named "output" and build an HTML table.

**Iterate over the employee's array and append each employee property using the <td> td> tag.

**Assign the output string to the "emps" through the innerHTML function.

**Register an onClick event for $("table tr") and call the find('td:first').html() function.

**Using the getEmployee() function find the selected employee object and output the results.

-->
